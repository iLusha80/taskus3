# План генерации документации Swagger UI с Flask-RESTX

## Цель
Сгенерировать документацию Swagger UI для Flask-приложения, используя библиотеку Flask-RESTX, с минимальными изменениями кода.

## Анализ текущей ситуации
*   Приложение использует стандартные Flask `Blueprint` для определения API-эндпоинтов.
*   Flask-RESTX не инициализирован напрямую с `Blueprint`, что требует создания объекта `Api`.
*   Существующие докстринги не соответствуют формату, который Flask-RESTX автоматически преобразует в документацию Swagger.

## Обновленный план действий

1.  **Инициализация Flask-RESTX API в `backend/app.py`:**
    *   Импортировать `Api` из `flask_restx`.
    *   Инициализировать объект `Api` и связать его с экземпляром Flask-приложения `app`.
    *   Добавить пространство имен (Namespace) для каждого API-блюпринта, используя `api.namespace()`. Это позволит организовать документацию по логическим группам.

2.  **Интеграция Swagger UI:**
    *   Flask-RESTX автоматически предоставляет эндпоинты для Swagger UI после инициализации `Api`. Необходимо будет убедиться, что они доступны (обычно по `/swagger` или `/doc`).

3.  **Документирование эндпоинтов:**
    *   Поскольку автоматическое преобразование докстрингов Google не поддерживается Flask-RESTX "из коробки", для документирования эндпоинтов будут использоваться декораторы Flask-RESTX:
        *   `@api.doc`: для описания операций (GET, POST, PUT, DELETE).
        *   `@api.expect`: для описания ожидаемых входных данных (моделей запросов).
        *   `@api.response`: для описания возможных ответов (кодов состояния и моделей ответов).

4.  **Минимальные изменения кода:**
    *   Основные изменения будут внесены в файл `backend/app.py` для инициализации `Api` и регистрации пространств имен.
    *   В файлах API (например, `backend/api/agents.py`) будут добавлены декораторы Flask-RESTX для документирования конкретных эндпоинтов.

## Визуализация плана

```mermaid
graph TD
    A[Начало] --> B{Прочитать backend/app.py};
    B --> C{Прочитать backend/api/__init__.py и backend/api/agents.py};
    C --> D[Анализ: Flask-RESTX не используется напрямую с Blueprint];
    D --> E[Анализ: Докстринги не в формате Flask-RESTX];
    E --> F[План: Инициализация Api в app.py];
    F --> G[План: Добавление Namespace для каждого Blueprint];
    G --> H[План: Документирование эндпоинтов с декораторами Flask-RESTX];
    H --> I[План: Проверка доступности Swagger UI];
    I --> J[Конец];